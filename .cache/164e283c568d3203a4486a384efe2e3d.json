{
  "dependencies": [{ "name": "animejs", "loc": { "line": 3, "column": 20 } }],
  "generated": {
    "js":
      "var t=require(\"animejs\");if(AFRAME.anime=t,\"undefined\"==typeof AFRAME)throw new Error(\"Component attempted to register before AFRAME was available.\");var i=AFRAME.utils,e=i.entity.getComponentProperty,n=i.entity.setComponentProperty,a=new THREE.Color;AFRAME.registerComponent(\"animation\",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:\"\"},dur:{default:1e3},easing:{default:\"easeInQuad\"},elasticity:{default:400},from:{default:\"\"},loop:{default:0,parse:function(t){return\"true\"===t||\"false\"!==t&&parseInt(t,10)}},property:{default:\"\"},startEvents:{type:\"array\"},pauseEvents:{type:\"array\"},resumeEvents:{type:\"array\"},to:{default:\"\"}},multiple:!0,init:function(){var t=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.config={complete:function(){t.animationIsPlaying=!1,t.el.emit(\"animationcomplete\",t.eventDetail)}}},update:function(){var t=this.config,i=this.data;this.animationIsPlaying=!1,i.property&&(t.autoplay=!1,t.direction=i.dir,t.duration=i.dur,t.easing=i.easing,t.elasticity=i.elasticity,t.loop=i.loop,this.createAndStartAnimation())},tick:function(t,i){this.animationIsPlaying&&(this.time+=i,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=!0,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var i=this.data;this.updateConfig(),this.animationIsPlaying=!1,this.animation=t(this.config),this.removeEventListeners(),this.addEventListeners(),!i.autoplay||i.startEvents&&i.startEvents.length||(i.delay?setTimeout(this.beginAnimation,i.delay):this.beginAnimation())},beginAnimation:function(){this.updateConfig(),this.time=0,this.animation.seek(0),this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit(\"animationbegin\",this.eventDetail)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){this.data.delay?setTimeout(this.beginAnimation,this.data.delay):this.beginAnimation()},updateConfigForDefault:function(){var t,i,a,s=this.config,o=this.data,r=this.el;t=o.from||e(r,o.property),a=o.to,t=t?t.toString():t,a=a?a.toString():a,(i=\"true\"===a||\"false\"===a)&&(t=\"true\"===o.from?1:0,a=\"true\"===o.to?1:0),s.targets={aframeProperty:t},s.aframeProperty=a,s.update=function(){var e=t;return function(t){var a;(a=t.animatables[0].target.aframeProperty)!==e&&(e=a,i&&(a=a>=1),n(r,o.property,a))}}()},updateConfigForVector:function(){var t,i,a,s=this.config,r=this.data,u=this.el;i=r.from?AFRAME.utils.coordinates.parse(r.from):e(u,r.property),a=AFRAME.utils.coordinates.parse(r.to),\"rotation\"===r.property&&(o(i),o(a)),s.targets=[i];for(t in a)s[t]=a[t];\"position\"!==r.property&&\"rotation\"!==r.property&&\"scale\"!==r.property?s.update=function(){var t={};return t.x=i.x,t.y=i.y,t.z=i.z,function(i){var e=i.animations[0].target;e.x===t.x&&e.y===t.y&&e.z===t.z||(t.x=e.x,t.y=e.y,t.z=e.z,n(u,r.property,e))}}():s.update=function(){var t={};return t.x=i.x,t.y=i.y,t.z=i.z,function(i){var e=i.animatables[0].target;e.x===t.x&&e.y===t.y&&e.z===t.z||(t.x=e.x,t.y=e.y,t.z=e.z,u.object3D[r.property].set(e.x,e.y,e.z))}}()},updateConfig:function(){var t;\"vec2\"===(t=s(this.el,this.data.property))||\"vec3\"===t||\"vec4\"===t?this.updateConfigForVector():this.updateConfigForDefault()},stopRelatedAnimations:function(){var t,i;for(i in this.el.components)t=this.el.components[i],i!==this.attrName&&\"animation\"===t.name&&t.data.property===this.data.property&&(t.animationIsPlaying=!1)},addEventListeners:function(){var t=this.data,i=this.el;r(i,t.startEvents,this.onStartEvent),r(i,t.pauseEvents,this.pauseAnimation),r(i,t.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var t=this.data,i=this.el;u(i,t.startEvents,this.onStartEvent),u(i,t.pauseEvents,this.pauseAnimation),u(i,t.resumeEvents,this.resumeAnimation)}});function s(t,i){var e,n,a,s;return n=(a=i.split(\".\"))[0],s=a[1],(e=t.components[n]||AFRAME.components[n])?s&&!e.schema[s]?null:s?e.schema[s].type:e.schema.type:null}function o(t){t.x=THREE.Math.degToRad(t.x),t.y=THREE.Math.degToRad(t.y),t.z=THREE.Math.degToRad(t.z)}function r(t,i,e){var n;for(n=0;n<i.length;n++)t.addEventListener(i[n],e)}function u(t,i,e){var n;for(n=0;n<i.length;n++)t.removeEventListener(i[n],e)}"
  },
  "hash": "1c783a2a943e4344eac4152aed579b45"
}
